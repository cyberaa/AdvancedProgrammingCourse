
<!-- saved from url=(0065)http://mooshak.dei.uc.pt/~lpa/cgi-bin/execute/377251806845?view+D -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" href="base.css" type="text/css">
<link type="text/css" rel="stylesheet" href="data:text/css,"></head>
<body>
<center>
<table cellpadding="20" width="100%">
<tbody><tr>
<td id="Base">

<title>Problem D - Medical Imaging</title>


<h1 align="CENTER"> Problem D - Medical Imaging</h1>

<hr>

<h2> Description</h2>

Your new job at a medical imaging company consists of developing image processing algorithms 
to detect tumour growth from pairs of computerised axial tomography images. 
Given a pair of greyscale images (see image below) captured at different times,
the image processing equipment aligns the images, and computes the difference
between them in order to produce a file with <i>m</i> × <i>n</i>
values corresponding to pixels of the (aligned) original images.
Large positive differences in adjacent positions indicate that a tumour
may be developing in that region.<p>

<img src="377251806845" width="500"></p><p>

In order to identify possible tumour sites, your decide to develop an algorithm
to detect a rectangular shape in the images such that the sum of the
corresponding values in the file is as large as possible.</p><p>

</p><hr>
<h2>Input</h2> 

Each input is a sequence of test cases as generated by the image processing equipment.
For each test case, <i>m</i> and <i>n</i> are given in the
first line, such that <i>m</i> × <i>n</i> is at most 250&#8201;000.
Then, <i>m</i> lines of data follow, each line containing <i>n</i> 
values. The <i>j</i>-th value in line <i>i</i> corresponds to the difference value 
recorded at position (<i>i</i>,<i>j</i>) in the original images. Another test case may
follow on the next line.<p> 
</p><hr>

<h2>Output</h2>

The output is the maximum sum of values that may be found in a rectangular shape,
printed on a separate line for each test case.
If the maximum is negative, then the output should be 0.

<p>
</p><hr>

<h2> Example</h2>

<p><b>Example input:</b></p>

<blockquote><pre>3 3
1 2 -1
-3 -1 4
1 -5 -2 
</pre></blockquote>

<p>
</p><hr>

<p><b>Example output:</b></p>


<blockquote><pre>4
</pre></blockquote>

<hr>



</td>
</tr>
</tbody></table>
</center>


</body></html>